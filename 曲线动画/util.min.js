/**
 * Created by dyq on 2014/12/19.
 */
jQuery.myUtil={getLinePoint:function(startPoint,endPoint,step){step=-step;var length=Math.sqrt(Math.pow(Math.abs(startPoint.x-endPoint.x),2)+Math.pow(Math.abs(startPoint.y-endPoint.y),2)),y=endPoint.y-startPoint.y,x=endPoint.x-startPoint.x,sin=Math.abs(y)/length,cos=Math.abs(x)/length,result={x:startPoint.x,y:startPoint.y};if(Math.floor(length)<=3){return result}if(x>0&&y<0){result={x:endPoint.x-(length+step)*cos,y:endPoint.y+(length+step)*sin}}else{if(x>0&&y>0){result={x:endPoint.x-cos*(length+step),y:endPoint.y-sin*(length+step)}}else{if(x<0&&y>0){result={x:endPoint.x+cos*(length+step),y:endPoint.y-sin*(length+step)}}else{if(x<0&&y<0){result={x:endPoint.x+cos*(length+step),y:endPoint.y+sin*(length+step)}}else{if(x==0&&y>0){result={x:endPoint.x,y:startPoint.y-step}}else{if(x==0&&y<0){result={x:endPoint.x,y:startPoint.y+step}}else{if(x>0&&y==0){result={x:startPoint.x-step,y:startPoint.y}}else{if(x<0&&y==0){result={x:startPoint.x+step,y:startPoint.y}}else{result=startPoint.end}}}}}}}}return result},getRadian:function(value){return Math.PI/180*value},getRandom:function(min,max){return Math.round(Math.random()*(max-min))+min},test:function(){}};window.requestNextAnimationFrame=(function(){var originalWebkitMethod,wrapper=undefined,callback=undefined,geckoVersion=0,userAgent=navigator.userAgent,index=0,self=this;if(window.webkitRequestAnimationFrame){wrapper=function(time){if(!time){time=+new Date()}self.callback(time)};originalWebkitMethod=window.webkitRequestAnimationFrame;window.webkitRequestAnimationFrame=function(callback,element){self.callback=callback;originalWebkitMethod(wrapper,element)}}if(window.mozRequestAnimationFrame){index=userAgent.indexOf("rv:");if(userAgent.indexOf("Gecko")!=-1){geckoVersion=userAgent.substr(index+3,3);if(geckoVersion==="2.0"){window.mozRequestAnimationFrame=undefined}}}return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){var start,finish;window.setTimeout(function(){start=+new Date();callback(start);finish=+new Date();self.timeout=1000/60-(finish-start)},self.timeout)}})();